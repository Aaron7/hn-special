base-color = #ff8937
text-color = #555
link-color = #ffac5b
light-link-color = #fbf9f7
base-font = "15px/1.5 Helvetica Neue, Arial, sans-serif"

/* Base styles */
html, body
    background #fff
    margin 0
    padding 0
    font unquote(base-font)
    color text-color

u
    text-decoration none

a
    color link-color
    text-decoration none

a:hover
    /*color #fdbe80*/
    text-decoration underline

input, textarea
    -webkit-appearance none
    -moz-appearance none

    border 1px solid lighten(text-color, 70%)
    font unquote(base-font)
    color inherit
    padding 5px 8px
    margin 0
    font-weight 200

    &[type=submit]
        background base-color
        border none
        color light-link-color
        font unquote(base-font)
        font-weight 200
        cursor pointer
        &:active
            color #fff
            background darken(base-color, 10%)

    &:focus
        border-color lighten(text-color, 50%)
        outline none

// 832
textarea
    width 600px
    height 120px
    resize vertical

// Pre and code tags can stretch the page if not limited
pre
    overflow auto
    max-width 600px
    word-wrap normal
    white-space pre

table
    border-collapse collapse
    border none

tr, td
    border none
    padding 0

// Some selectors are pretty contrived but I think it's the only
// way to select some things. Please correct me if I'm wrong!
body
    &.error
        text-align center
        padding-top 140px
        font-size 40px
        font-weight 100
        letter-spacing 1px

        a
            display block
            font-size 20px
            font-weight 100

    // HN Special menu
    button-size = 16px
    menu-width = 300px
    menu-background = #f6e9d9
    menu-color = #8a837c

    .hnspecial-settings-button
        display inline-block
        
        width button-size
        height button-size
        margin-right 10px
        cursor pointer
        // Adjust position
        position relative
        top 3px

        img
            opacity .5
            -webkit-transition opacity 100ms ease            

    .hnspecial-settings-button-checkbox
        width button-size
        height button-size
        border none
        position absolute
        z-index 2
        cursor pointer

        &:hover ~ img
            opacity 1

        &:active ~ img
            opacity 0.5 !important

        &:checked ~
            img
                opacity 1

            .hnspecial-settings-menu-container
                opacity 1
                top 24px
                height 2000px
                padding-top 10px
                outline 1px solid rgba(base-color, 0.4%) // Trick to trigger a redraw when the animation is over (fixes visual glitch)

                -webkit-transition-delay 0ms, 0ms, 0ms, 0ms, 300ms
                -webkit-transition-timing-function ease-out

    .hnspecial-settings-menu-container
        position absolute
        top 60px
        left -(menu-width/2 - button-size/2)
        width menu-width
        height 0px
        background transparent
        padding 0px
        overflow hidden
        box-sizing border-box
        color menu-color
        font-weight 200
        text-align left
        opacity 0
        cursor auto
        pointer-events none
        outline none

        -webkit-transition-timing-function ease-out
        -webkit-transition-property opacity, top, height, padding, outline
        -webkit-transition-duration 150ms, 300ms, 0ms, 0ms, 0ms
        -webkit-transition-delay 0ms, 0ms, 300ms, 300ms, 0ms

        &:before
            content ''
            position absolute
            left (menu-width/2 - button-size/2)
            top 3px
            -webkit-transform rotate(45deg)
            z-index 0
            background menu-background
            display block
            width button-size
            height button-size

    .hnspecial-settings-menu-inner
        width 100%
        background red
        padding 20px
        box-sizing border-box
        background menu-background
        pointer-events auto
        line-height 1.5

    // Secondary pages
    .WordSection1 
        width 900px
        margin 0 auto
        padding 50px 0

        .MsoNormal
            margin 15px 0

    &.hnspecial-form-page
        form
            td
                font-weight 200
                padding-bottom 20px

                &:first-child
                    text-transform capitalize
                    padding-right 30px

                    &.hnspecial-textarea-label
                        vertical-align top
                        padding-top 8px

            b
                font-weight 200

        &.login .hnspecial-form-container
            width 300px
            margin 0 auto
            padding-top 100px

            input[type=submit]
                width 130px

            b
                font-size 40px
                font-weight 100
                letter-spacing 1px

            td:last-child
                &, input
                    width 100%

    // Primary pages
    > center
        display block
        max-width 900px
        margin 0 auto // Add an option to disable this

        > table
            width 100%

            // Header
            > tbody 
                > tr:first-child > td > table
                    background base-color
                    color lighten(base-color, 70%)
                    font-weight 100
                    width 100%

                    b
                        font-weight inherit
                        margin 0

                    td
                        padding 20px 0

                        // Logo td
                        &:first-child
                            square-size = 30px
                            width square-size

                            padding-left 25px
                            padding-right 10px

                            a
                                display block
                                width square-size
                                height square-size
                                background #fff
                                border-radius 100%

                                &:after
                                    content 'Y'
                                    width square-size + 1px
                                    height square-size
                                    display block
                                    line-height square-size + 2px
                                    text-align center
                                    font-size 22px
                                    font-weight 200
                                    color base-color

                                img
                                    display none

                        // Title and links td
                        &:nth-child(2)
                            b a
                                    margin-right 25px
                                    font-weight 400
                                    letter-spacing 0px

                            // Remove spacer gif
                            img
                                display none

                            .pagetop
                                > a, > .topsel
                                    margin-right 10px

                                .topsel a
                                    font-weight 300

                        // User td
                        &:last-child
                            text-align right
                            padding-right 25px

                            a[href^=logout]
                                margin-left 10px

                    a
                        font-weight 100
                        letter-spacing 1px
                        color light-link-color

                // Contents
                > tr:nth-child(3) > td
                    padding 42px 20px 0 20px

                    // Self posts and comments
                    p
                        line-height 1.5
                        margin 0
                        margin-bottom 1em
                        color lighten(text-color, 0%)
                        font-weight 200
                        word-wrap break-word

                    // Post area
                    > table:first-child
                        width 100%
                        font-weight 200
                        color lighten(text-color, 40%)

                        > tbody
                            > tr:first-child > td:first-child:not(.title)
                                padding 0px 13px 3px 10px // Refactor: same as #1

                            form
                                padding-top 30px
                                margin 0

                                input[type=submit]                     
                                    width 150px

                    // Comments
                    .default
                        padding-top 20px

                        // Comment info & reply button
                        .comhead, u
                            font-weight 200
                            font-size 13px
                            color lighten(text-color, 40%)

                    // Custom class added to poll items
                    .hnspecial-poll-row + tr td
                        padding-top 5px
                        padding-bottom 20px

                    // Custom class added by js on the comment upvote button
                    .hnspecial-upvote-button
                        padding-right 13px
                        vertical-align top

                        &.poll center
                            padding-top 1px

                        center
                            padding-top 20px

                    td.comment
                        // background red
                        font-weight 200

                    td.title
                        padding 3px 0 5px 0

                        &:last-child
                            width 100%

                        + td
                            // padding 0px 10px 3px 0
                            padding 0px 13px 3px 10px // Refactor: same as #1

                        a
                            color darken(link-color, 10%)

                        a:visited
                            color lighten(link-color, 50%)

                    td.subtext
                        font-size 13px
                        padding-bottom 22px

                > tr:nth-child(4) > td
                    padding-top 30px
                    font-weight 200
                    font-size 13px

                    .yclinks a
                            margin-right 10px

                    form input
                        width 400px
                        margin-left 10px
